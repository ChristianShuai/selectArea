(function(c){function a(g){return g.substring(1)}function d(h){var k=h.domSelect;var i=h.domInit;var j=[];c.each(k,function(l,m){j[l]=m;j[l]=j[l].substring(1)});var g='<div class="gf-select" id="'+j[0]+'">\n\t\t\t\t\t\t\t\t\t\t<span><em>'+i[0]+'</em><i class="icon-jt"><input type="hidden" name="'+j[0]+'" value=""/></i></span>\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li data-value="0">'+i[0]+'</li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="gf-select" id="'+j[1]+'">\n\t\t\t\t\t\t\t\t\t\t<span><em>'+i[1]+'</em><i class="icon-jt"><input type="hidden" name="'+j[1]+'" value=""/></i></span>\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li data-value="0">'+i[1]+'</li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="gf-select" id="'+j[2]+'">\n\t\t\t\t\t\t\t\t\t\t<span><em>'+i[2]+'</em><i class="icon-jt"><input type="hidden" name="'+j[2]+'" value=""/></i></span>\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li data-value="0">'+i[2]+"</li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>";return g}function f(g){if(g==undefined||typeof g!="object"){return{domSelect:["#province","#city","#area"],domInit:["请选择省份","请选择城市","请选择区县"],errorElement:".error-area",dataType:"name"}}else{if(g.domSelect==undefined||g.domSelect.length!=3){g.domSelect=["#province","#city","#area"]}if(g.domInit==undefined||g.domInit.length!=3){g.domInit=["请选择省份","请选择城市","请选择区县"]}if(g.errorElement==undefined){g.errorElement=".error-area"}if(g.dataType==undefined){g.dataType="name"}return g}}function b(j){var l=j;var k={};var g=j.dataType=="id"?"id":"name";var i=function(){var p=k;var q=['<li  data-value="0" name="">'+l.domInit[1]+"</li>"];var n=c(this).attr("name");if(n&&n!=""){var r=p.city[n];for(var o=0;o<r.length;o++){q.push('<li data-value="'+r[o][g]+'" name="'+r[o]["id"]+'">'+r[o]["name"]+"</li>")}c(l.domSelect[1]).find("ul").html(q.join("\n"))}else{c(l.domSelect[1]).find("ul").html(q.join("\n"))}c(l.domSelect[1]).find("ul li:first").trigger("click")};var m=function(){var p=k;var q=['<li data-value="0" name="">'+l.domInit[2]+"</li>"];var n=c(this).attr("name");if(n&&n!=""){var r=p.district[n];for(var o=0;o<r.length;o++){q.push('<li data-value="'+r[o][g]+'" name="'+r[o]["id"]+'">'+r[o]["name"]+"</li>")}c(l.domSelect[2]).find("ul").html(q.join("\n"))}else{c(l.domSelect[2]).find("ul").html(q.join("\n"))}c(l.domSelect[2]).find("ul li:first").trigger("click")};var h=function(p){var q=['<li data-value="0" name="">'+l.domInit[0]+"</li>"];var s=p.province;var r=c(l.domSelect[0]).find("input").val();var t=c(l.domSelect[1]).find("input").val();var n=c(l.domSelect[2]).find("input").val();for(var o=0;o<s.length;o++){q.push('<li data-value="'+s[o][g]+'" name="'+s[o]["id"]+'">'+s[o]["name"]+"</li>")}c(l.domSelect[0]).find("ul").html(q.join("\n"));k=p;if(r!=""){c(l.domSelect[0]).find("ul li[data-value='"+r+"']").click()}if(t!=""){c(l.domSelect[1]).find("ul li[data-value='"+t+"']").click()}if(n!=""){c(l.domSelect[2]).find("ul li[data-value='"+n+"']").click()}};h(areaData);c(document).on("click",l.domSelect[0]+" li",i);c(document).on("click",l.domSelect[1]+" li",m)}function e(g){c(document).on("click",".gf-select > span",function(){c(this).closest(".gf-select").css("z-index",100);c(".gf-select ul").hide();if(c(this).next("ul").children().length>4){c(this).next("ul").css({height:154,overflow:"auto"})}else{c(this).next("ul").css({height:"auto"})}c(this).next("ul").show()});c(document).on("click",".gf-select > span > i",function(){var h=c(this).closest("span").next("ul");h.hide();return false});c(document).on("click",".gf-select ul li",function(){c(g.errorElement).hide();var i=c(this).closest("ul");var h=c(this).closest(".gf-select");var j=c(this).attr("data-value");var k=c(this).text();if(c(this).closest(".gf-select").hasClass("noclick")){i.hide();return false}h.css("z-index",1);h.find("em").html(k);h.find("input[type='hidden']").val(j!=0?j:"");i.hide()});c(document).on("click",function(h){if(c(h.target).closest(".gf-select").length==0){c(".gf-select").css("z-index",1);c(".gf-select ul").hide()}})}c.fn.selectArea=function(g){var h=f(g);$this=c(this);$this.append(d(h));b(h);e(h)}})(jQuery);
